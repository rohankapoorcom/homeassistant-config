type: custom:layout-card
cards:
  - type: custom:layout-card
    layout_type: vertical
    cards:
      - type: custom:xiaomi-vacuum-map-card
        title: Upstairs
        map_source:
          camera: camera.valetudo_upstairs_vacuum_map
        calibration_source:
          camera: true
        entity: vacuum.valetudo_upstairs_vacuum
        vacuum_platform: Hypfer/Valetudo
        map_modes:
          - template: vacuum_clean_segment
            predefined_selections:
              - id: '1'
                icon:
                  name: mdi:shower
                  x: 2462
                  'y': 3340
                label:
                  text: Master Bathroom
                  x: 2462
                  'y': 3340
                  offset_y: 35
                outline:
                  - - 2345
                    - 3250
                  - - 2580
                    - 3250
                  - - 2580
                    - 3430
                  - - 2345
                    - 3430
              - id: '2'
                icon:
                  name: mdi:toilet
                  x: 2687
                  'y': 3332
                label:
                  text: Hallway Bathroom
                  x: 2687
                  'y': 3332
                  offset_y: 35
                outline:
                  - - 2605
                    - 3235
                  - - 2770
                    - 3235
                  - - 2770
                    - 3430
                  - - 2605
                    - 3430
              - id: '3'
                icon:
                  name: mdi:floor-plan
                  x: 2767
                  'y': 3675
                label:
                  text: Hallway
                  x: 2767
                  'y': 3675
                  offset_y: 35
                outline:
                  - - 2390
                    - 3410
                  - - 3145
                    - 3410
                  - - 3145
                    - 3940
                  - - 2390
                    - 3940
              - id: '4'
                icon:
                  name: mdi:bed-king
                  x: 2202
                  'y': 3392
                label:
                  text: Master Bedroom
                  x: 2202
                  'y': 3392
                  offset_y: 35
                outline:
                  - - 2005
                    - 3210
                  - - 2400
                    - 3210
                  - - 2400
                    - 3575
                  - - 2005
                    - 3575
              - id: '6'
                icon:
                  name: mdi:sofa
                  x: 3235
                  'y': 3507
                label:
                  text: Living Room
                  x: 3235
                  'y': 3507
                  offset_y: 35
                outline:
                  - - 2965
                    - 3200
                  - - 3505
                    - 3200
                  - - 3505
                    - 3815
                  - - 2965
                    - 3815
              - id: '7'
                icon:
                  name: mdi:stove
                  x: 2820
                  'y': 3707
                label:
                  text: Kitchen
                  x: 2820
                  'y': 3707
                  offset_y: 35
                outline:
                  - - 2675
                    - 3520
                  - - 2965
                    - 3520
                  - - 2965
                    - 3895
                  - - 2675
                    - 3895
              - id: '9'
                icon:
                  name: mdi:monitor
                  x: 2197
                  'y': 3742
                label:
                  text: Office
                  x: 2197
                  'y': 3742
                  offset_y: 35
                outline:
                  - - 1985
                    - 3540
                  - - 2410
                    - 3540
                  - - 2410
                    - 3945
                  - - 1985
                    - 3945
              - id: '10'
                icon:
                  name: mdi:table-chair
                  x: 2970
                  'y': 3322
                label:
                  text: Dining Room
                  x: 2970
                  'y': 3322
                  offset_y: 35
                outline:
                  - - 2795
                    - 3200
                  - - 3145
                    - 3200
                  - - 3145
                    - 3445
                  - - 2795
                    - 3445
          - template: vacuum_clean_zone
          - template: vacuum_goto
        map_locked: true
        two_finger_pan: true
        internal_variables:
          topic: valetudo/upstairs-vacuum
        append_icons: true
        append_tiles: true
        icons:
          - icon: mdi:water-check
            tooltip: Cleaning Mode
            type: menu
            menu_id: cleaning_mode
            icon_id: cleaning_mode
            entity: select.valetudo_upstairs_vacuum_mode
            available_values_attribute: options
            icon_mapping:
              mop: mdi:water
              vacuum: mdi:broom
              vacuum_and_mop: mdi:water-check
              vacuum_then_mop: mdi:water-check
            value_translation_keys:
              mop: Mop
              vacuum: Vacuum
              vacuum_and_mop: Vacuum + Mop
              vacuum_then_mop: Vacuum -> Mop
            tap_action:
              action: call-service
              service: select.select_option
              service_data:
                option: '[[value]]'
                entity_id: '[[entity_id]]'
          - icon: mdi:water-check
            tooltip: Water
            type: menu
            menu_id: water
            icon_id: water
            entity: select.valetudo_upstairs_vacuum_water
            available_values_attribute: options
            icon_mapping:
              low: mdi:water-percent
              medium: mdi:water-percent
              high: mdi:water-percent
            tap_action:
              action: call-service
              service: select.select_option
              service_data:
                option: '[[value]]'
                entity_id: '[[entity_id]]'
        tiles:
          - tile_id: cleaning_mode
            entity: select.valetudo_upstairs_vacuum_mode
            label: Mode
            icon: mdi:developer-board
            translations:
              mop: Mop
              vacuum: Vacuum
              vacuum_and_mop: Vacuum + Mop
              vacuum_then_mop: Vacuum -> Mop
        card_mod:
          style: |
            ha-card {
              --map-card-internal-zoomer-background: transparent!important;
              --map-card-room-outline-line-color: rgb(255, 255, 255, 0);
              --map-card-room-label-color: rgb(255, 255, 255);
              height: 650px;
            }

    view_layout:
      grid_area: left
  - type: custom:layout-card
    layout_type: vertical
    cards:
      - type: custom:xiaomi-vacuum-map-card
        title: Downstairs
        map_source:
          camera: camera.valetudo_downstairs_vacuum_map
        calibration_source:
          camera: true
        entity: vacuum.valetudo_downstairs_vacuum
        vacuum_platform: Hypfer/Valetudo
        map_modes:
          - template: vacuum_clean_segment
            predefined_selections:
              - id: '1'
                icon:
                  name: mdi:floor-plan
                  x: 3067
                  'y': 3232
                label:
                  text: Hallway
                  x: 3067
                  'y': 3232
                  offset_y: 35
                outline:
                  - - 2540
                    - 2995
                  - - 3595
                    - 2995
                  - - 3595
                    - 3470
                  - - 2540
                    - 3470
              - id: '2'
                icon:
                  name: mdi:bed-queen
                  x: 3620
                  'y': 3160
                label:
                  text: Guest Room
                  x: 3620
                  'y': 3160
                  offset_y: 35
                outline:
                  - - 3345
                    - 2995
                  - - 3895
                    - 2995
                  - - 3895
                    - 3325
                  - - 3345
                    - 3325
              - id: '4'
                icon:
                  name: mdi:bicycle
                  x: 3732
                  'y': 3492
                label:
                  text: Gym
                  x: 3732
                  'y': 3492
                  offset_y: 35
                outline:
                  - - 3565
                    - 3350
                  - - 3900
                    - 3350
                  - - 3900
                    - 3635
                  - - 3565
                    - 3635
              - id: '5'
                icon:
                  name: mdi:shower
                  x: 3332
                  'y': 3575
                label:
                  text: Guest Bathroom
                  x: 3332
                  'y': 3575
                  offset_y: 35
                outline:
                  - - 3210
                    - 3475
                  - - 3455
                    - 3475
                  - - 3455
                    - 3675
                  - - 3210
                    - 3675
          - template: vacuum_clean_zone
          - template: vacuum_goto
        map_locked: true
        two_finger_pan: true
        internal_variables:
          topic: valetudo/downstairs-vacuum
        append_icons: true
        append_tiles: true
        icons:
          - icon: mdi:water-check
            tooltip: Cleaning Mode
            type: menu
            menu_id: cleaning_mode
            icon_id: cleaning_mode
            entity: select.valetudo_downstairs_vacuum_mode
            available_values_attribute: options
            icon_mapping:
              mop: mdi:water
              vacuum: mdi:broom
              vacuum_and_mop: mdi:water-check
            value_translation_keys:
              mop: Mop
              vacuum: Vacuum
              vacuum_and_mop: Vacuum + Mop
            tap_action:
              action: call-service
              service: select.select_option
              service_data:
                option: '[[value]]'
                entity_id: '[[entity_id]]'
          - icon: mdi:water-check
            tooltip: Water
            type: menu
            menu_id: water
            icon_id: water
            entity: select.valetudo_downstairs_vacuum_water
            available_values_attribute: options
            icon_mapping:
              low: mdi:water-percent
              medium: mdi:water-percent
              high: mdi:water-percent
            tap_action:
              action: call-service
              service: select.select_option
              service_data:
                option: '[[value]]'
                entity_id: '[[entity_id]]'
        tiles:
          - tile_id: cleaning_mode
            entity: select.valetudo_downstairs_vacuum_mode
            label: Mode
            icon: mdi:developer-board
            translations:
              mop: Mop
              vacuum: Vacuum
              vacuum_and_mop: Vacuum + Mop
        card_mod:
          style: |
            ha-card {
              --map-card-internal-zoomer-background: transparent!important;
              --map-card-room-outline-line-color: rgb(255, 255, 255, 0);
              --map-card-room-label-color: rgb(255, 255, 255);
              height: 650px;
            }
      - type: custom:xiaomi-vacuum-map-card
        title: Garage
        map_source:
          camera: camera.valetudo_garage_vacuum_map
        calibration_source:
          camera: true
        entity: vacuum.valetudo_garage_vacuum
        vacuum_platform: Hypfer/Valetudo
        map_modes:
          - template: vacuum_clean_segment
            predefined_selections:
              - id: "1"
                icon:
                  name: mdi:garage
                  x: 3387
                  "y": 3040
                label:
                  text: Garage
                  x: 3387
                  "y": 3040
                  offset_y: 35
                outline:
                  - - 3170
                    - 2710
                  - - 3605
                    - 2710
                  - - 3605
                    - 3370
                  - - 3170
                    - 3370
          - template: vacuum_clean_zone
          - template: vacuum_goto
        map_locked: true
        two_finger_pan: true
        internal_variables:
          topic: valetudo/garage-vacuum
        append_icons: true
        append_tiles: true
        icons:
          - icon: mdi:water-check
            tooltip: Cleaning Mode
            type: menu
            menu_id: cleaning_mode
            icon_id: cleaning_mode
            entity: select.valetudo_garage_vacuum_mode
            available_values_attribute: options
            icon_mapping:
              mop: mdi:water
              vacuum: mdi:broom
              vacuum_and_mop: mdi:water-check
            value_translation_keys:
              mop: Mop
              vacuum: Vacuum
              vacuum_and_mop: Vacuum + Mop
            tap_action:
              action: call-service
              service: select.select_option
              service_data:
                option: '[[value]]'
                entity_id: '[[entity_id]]'
          - icon: mdi:water-check
            tooltip: Water
            type: menu
            menu_id: water
            icon_id: water
            entity: select.valetudo_garage_vacuum_water
            available_values_attribute: options
            icon_mapping:
              mop: mdi:water
              vacuum: mdi:broom
              vacuum_and_mop: mdi:water-check
            value_translation_keys:
              mop: Mop
              vacuum: Vacuum
              vacuum_and_mop: Vacuum + Mop
            tap_action:
              action: call-service
              service: select.select_option
              service_data:
                option: '[[value]]'
                entity_id: '[[entity_id]]'
        tiles:
          - tile_id: cleaning_mode
            entity: select.valetudo_garage_vacuum_mode
            label: Mode
            icon: mdi:developer-board
            translations:
              mop: Mop
              vacuum: Vacuum
              vacuum_and_mop: Vacuum + Mop
        card_mod:
          style: |
            ha-card {
              --map-card-internal-zoomer-background: transparent!important;
              --map-card-room-outline-line-color: rgb(255, 255, 255, 0);
              --map-card-room-label-color: rgb(255, 255, 255);
              height: 650px;
            }
    view_layout:
      grid_area: right
layout_type: custom:grid-layout
layout:
  grid-template-columns: 1fr 1fr
  grid-template-rows: auto
  grid-template-areas: |
    "left right"
  mediaquery:
    '(max-width: 800px)':
      grid-template-columns: 1fr
      grid-template-areas: |
        "left"
        "right"
view_layout:
  grid-area: main
